---
title: Gentaの旧ページ2
layout: default
parent: Blog
---

# Gentaの旧ページ2
こちらのサイトになります。すぐに現ページに移行したため記事はほとんど掲載していないです。

<a href="https://double-tag-229.com/page2/index.html" target="_blank">Gentaの旧ページ2</a>

Gentaの旧ページ1を作成した後に、挙がってきた改善点を盛り込んだものがGentaの旧ページになります。

作成にあたって以下の3点を目標に設定した。

- ページの全体像が把握しやすい。
- 記事作成に時間がかからない。(C++やpythonなどのコードの挿入が容易にできる)
- オリジナリティがあるが、感覚的に操作方法を掴める。

## 着想

オリジナリティのあるサイトとは何かと考え、ネットを漁っていたときに、ホバーすると浮かび上がるボタンに出会う。

<a href='https://codepen.io/jh3y/pen/mdxggmO' target="_blank">CSS OS Dock [CSS :has(), lerp custom props]</a>

これを見たときに、Macみたいなデザインだなと思った。

その瞬間、Macのファイル管理って感覚的でわかりやすいのに、なぜそのようなサイトがないのかと疑問が浮かんだため、Mac風のデザインにすることに。

そのほかにも色々考えた結果、以下のような要件で作成することにした。

- Mac風のデザイン (目標3)
- htmlではなくmdで記事を書く (目標2)
- mdファイル名を認識し、自動表示を行う (目標2)
- ページ遷移を発生させず、同一ページで全ての記事を閲覧可能にする (目標1)

## 困難だった点

### mdをhtmlに変換する

様々な記事を参照したところ、mdファイルに対しローカルでコマンドを打ってhtmlに変換する方法がいくつか出てきた。

しかし今回はこの手法はとらない。だって、

- mdはHackmdで作成しているため、ローカルにない。
- mdをvscodeで作成するならvscodeの機能で自動変換できる。
- 記事ごとに変換とかやりたくない。
- 何より自動化してみたい。やってみたい。

ですから。

ではサーバーにアップロードしたタイミングでhtmlに変換するのはどうだろうか??

しかし、自分が契約しているのは静的ホスティングサービスだったはず、そんなことできるのか??(もしかしたら単なる知識不足かも)

ということで記事のボタンが押されたらmdがファイルをfetchして、htmlに変換して表示するといった手法をとることにした。

### mdをhtmlにリアルタイムで変換するが...

mdをhtmlにリアルタイム変換することに決定したが、次なる問題が発生した。

処理の流れは以下のようになる。

1. mdファイルをfetch (XMLHttpRequest)
2. fetchしたmdファイルをparseする (marked)
3. parseしたhtmlをindex.htmlのcontentに挿入する (innerHTML)
4. シンタックスハイライトを掛ける (highlight.js)
5. 数式表示に対応する (MathJax)

JavaScriptは普段使用しているpythonとかcppとは異なり、コードの記述順と実行完了順が異なる(非同期処理)ため結構つまづいてしまった。

この順番が入れ替わったりすると、意図した動作をしないことがあるので、実際の実行完了順を考えながらコーディングを行なった。

これらの面倒な設定があらかじめされているQiitaとかZennは便利だな〜と思いました。

## 完成、そして反省

実際に使用してみるといちいち変なアニメーションいらないなとか、好奇心でつけた動きが邪魔だったりする。

設定した目標に関しては、ページの全体像の把握の部分が少し違うかなと思ってしまった。(これは明らかな反省点)

勉強したことをまとめたいという最も根幹の目的に立ち返ると、そもそもオリジナリティいらなくない??と思った。

## なぜこのようなサイトはないのか

ネットのサイトは基本的に同じような形をしているな。だから面白いアイデアを試してみたい!!と思い作成したサイトだが、このようなサイトをあまり見ないのは以下の要因がありそう。

- 人々はサイトの記事を閲覧しにくる。記事の作者について知りたいわけではない。そのため記事にダイレクトアクセスできず、必ずルートを踏む必要があるこのサイトは誰にも閲覧されない。したがってSEO的に最悪。
- 人々のスタンダードから外れたデザインをしているため、このサイトに辿り着くことができたとしても、慣れている操作とは異なる点に不快感を覚え、記事まで辿り着かない。したがってSEO的に最悪。
- 存在しないわけではないが、上記2点の理由から検索上位に上がることがなく、見かける機会がない。
