---
title: ABC340
layout: default
parent: Contest 感想
grand_parent: Atcoder (Dec. 2, 2023〜)
---

<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

# ABC339

perf 1662 6完でした(6AC, 0WA)。数学的な考察要素が多かったため、相性が良かったんだと思います。

## A問題

while文を使用して実装しました。while文は条件やらかしてよく無限ループとかやらかすので、慎重に解きました。ゴリ押しです。

## B問題

サイズを指定しないvectorにpush_backをしていき、size()を使用し、いくつか数値を引くだけなので簡単です。

## C問題

これは少し時間ロスしてしましました。条件通りに計算を行い2以上の場合は、queueに追加するというコードを書いたのですが、何も考えない実装だと計算量でoutです。sampleに\\(10^{17}\\)がなければ危なかったです。

mapを使用して、大きい要素からまとめて計算を行うようなコードを書きました。結局は同じような数値が生まれることからこのアルゴリズムでいけると考えたのですが、正直計算量を正確に考えていませんでした。まぁいけるでしょって感じで提出しました。

### 計算量に関する考察

実は、n回割った時に出てくる数字の個数は、nの大きさに依存せず常に2個となります。(さらに出てくる2数の差は高々1)

図を書いて考えるとすぐ納得できると思います。時間があるときに図を作成したいと思います。

## D問題

ダイクストラ法を使用する問題です。ライブラリを作成しているので、それを適用して終わりました。

自分でも高速に実装できるようにたまにコードを書く練習をしたいと思います。

## E問題

一瞬解法に悩みました。しかし、区間更新という部分に着目するとすぐにsegtree系であることがわかります。

今回はlazy segを使用しました。

## F問題

40分かかりました。格子点の存在に関する問題のため、整数問題に帰着できると予想。

(0, 0), (X, Y)に対して並行な直線で\\(\frac{2}{l}\\)の距離にあるものの方程式を求める。

すると、その方程式を\\(|AY - BX| = ±2\\)という整数問題に帰着することができる。

強い人たちはこれを当たり前のように知っているらしいですが、中学的な一次関数のアプローチでも求めれる。

あとは、整数問題を解くコードを書くだけ。有名問題なのでどこかにコードが落ちているかもと思い検索すると、ビンゴ。

<a href="https://qiita.com/drken/items/b97ff231e43bce50199a" target="_blank">拡張ユークリッドの互除法</a>

うまく埋め込んで終了。(このとき解を持つ条件をしっかりと理解できていると楽に埋め込むことができる)

差が1の時の値を求めて2倍するというコードを書いた時、今回の問題の制約が気になった。もしかして2倍すると範囲外になって解なしになるってこともあるのでは??

今回のコードでは解の1個を発見することはできるが、それがどんな解なのかまでは指定していない。そのため一番範囲の境界に近い値を求めてしまい、2倍することで範囲外なることを恐れていた。

しかし、X, Yの制約からなにも考えずに2倍しても大丈夫そうと判断し、提出。(X, Yは\\(10^{17}\\)、A, Bは\\(10^{18}\\))

これってA, BはX, Yより小さくなることが保証されているって感じなのかな、時間があるとき調べてみよう。ただ、その2倍を何も考えずにやっていいよいうメッセージが制約の違いに現れていたのかなとも思いました。